!function(i,n){"use strict";var t,o,r=i.YAHOO=i.YAHOO||{},e=r.SP=r.SP||{},s=[];function l(){}l.ATTRS={container:{value:null,setter:function(e){if("string"!=typeof e)return e;e=n.querySelectorAll(e);return e[e.length-1]}},item:{value:null},visibilityFeedbackUrl:{value:null},isScrollableModule:{value:!0}},l.prototype={initializer:function(){var e=this,t=e.getInvisibleItems();0<t.length&&(e.set("items",t),e.setEventHandler())},setEventHandler:function(){var e=this,t=e.get("container");r.Event.listen(t,"scroll",e.delayedProcess.bind(e)),r.Event.listen(i,"windowresize",e.process.bind(e)),r.Event.on("containerresize",e.delayedProcess.bind(e),t),e.isContainerHidden()&&r.Event.listen(n,"scroll",e.delayedProcess.bind(e))},getInvisibleItems:function(){var e,t=this,i=[],n=t.get("container");return n&&(e=t.get("item"),0<(n=n.querySelectorAll(e)).length&&n.forEach(function(e){t.isNodeVisible(e)||i.push(e)})),i},delayedProcess:function(){var e=this;t&&clearTimeout(t),t=setTimeout(function(){e.process()},100)},process:function(){var t,i=this;i.get("items").forEach(function(e){"true"!==e.dataset.processed&&i.isNodeVisible(e)&&(e.dataset.processed="true",(t=e.dataset.vf)&&i.addToQueue(t))})},isContainerHidden:function(){var e=this.get("container");return!r.Viewport.inViewport(e)},isNodeVisible:function(e){var t=this.get("container"),t=this.get("isScrollableModule")?r.Viewport.isLeftOfViewport(e)&&r.Viewport.isLeftOfElement(e,t):r.Viewport.elementIsContained(e,t);return t},addToQueue:function(e){var t=this,i=t.get("visibilityFeedbackUrl");-1===s.indexOf(e)&&(s.push(e),o=setTimeout(function(){var e;clearTimeout(o),0<s.length&&(e=i+"&tids="+s.join(","),t.fireBeacon(e)),s=[]},300))},fireBeacon:function(e){var t=new Image;t.onload=t.onerror=function(){t.onload=t.onerror=null,t=null},t.src=e}},e.BingVisibilityFeedback=l}(window,document);!function(e,l){"use strict";var o,c,u=e.YAHOO=e.YAHOO||{},s=u.SP=u.SP||{},d=[".ads",".pla",".mma"],a=[".res",".algo",".vres"],i=[".dd"],f=[];function g(e){var n=d.length,r=!1;if(!e)return r;for(var t=0;t<n;t++)if(u.DOM.ancestor(e,d[t])||u.DOM.hasClass(e,"ads")||1==e.children.length&&u.DOM.hasClass(e.firstChild,"ads")){r=!0;break}return r}function v(e){var n=a.length,r=!1;if(!e)return r;for(var t=0;t<n;t++)if(u.DOM.ancestor(e,a[t])){r=!0;break}return r}function p(e,n){e=e.currentTarget;c&&e.href&&(n+="&url="+encodeURIComponent(e.href)),o&&(n+="&clicktype=ads"),s.ULT.beacon_url(n)}function h(e,n,r,t){var a=e.currentTarget;!function(e){var n=f.length,r=!1;if(!e)return r;for(var t=0;t<n;t++)if(u.DOM.ancestor(e,f[t])){r=!0;break}return r}(a)&&("ad"===(n=n||"")&&g(a)||"ads"===n&&v(a)?p(e,t):"ads"!==n&&"ad"!==n&&(r?function(e,n,r){var t,a=e.currentTarget;if(a){for(var i in t=r,n)if(u.DOM.ancestor(a,i)){t=n[i];break}s.ULT.beacon_url(t)}}(e,r,t):g(a)?p(e,t):(v(a)||function(e){var n=i.length,r=!1;if(!e)return r;if(!g(e)&&!v(e))for(var t=0;t<n;t++)if(u.DOM.ancestor(e,i[t])){r=!0;break}return r}(a))&&(t=t,void 0!==(e=(e=e).currentTarget.href)&&(e=encodeURIComponent(e),t=t,c&&(t+="&url="+e),o&&(t+="&clicktype=algo"),s.ULT.beacon_url(t)))))}function n(){}n.ATTRS={beacon_url:{value:null},click_region_map:{value:null},random_ad_class:{value:"div.ads",nonEmpty:!0},sendURLParam:{value:!1},sendClicktype:{value:!1},type:{value:"srp",nonEmpty:!0},linkTargets:{value:"#results a",nonEmpty:!0},excludeList:{value:null}},n.prototype={initializer:function(){var n,e=this,r=e.get("type"),t=e.get("beacon_url"),a=e.get("linkTargets"),i=e.get("random_ad_class");i&&d.push(i);i=e.get("excludeList");i&&(f=i),c=e.get("sendURLParam"),o=e.get("sendClicktype"),n=e.get("click_region_map"),t&&(u.Event.delegate("mousedown",function(e){h(e,r,n,t)},l,a),n&&u.Event.delegate("click",function(e){h(e,r,n,t)},l,"input.sbb, button.sbb"),u.Event.on("bgClick",e.handleAdPartnerBeacon.bind(e)))},handleAdPartnerBeacon:function(e){var n=this.get("click_region_map"),r=this.get("type"),t=this.get("beacon_url");t&&h(e.detail.event,r,n,t)}},s.YHSPT=n}(window,document);